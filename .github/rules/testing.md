# テスト規約

このプロジェクトのテストに関する規約です。

## テストファイル構成

- **ファイル名**: `*.test.ts` または `*.spec.ts`
- **配置**: 対象ファイルと同階層、または `__tests__/` ディレクトリ内

## テスト作成ガイドライン

### テスト名

「何が」「どうなるべきか」を明確に記述：

```typescript
describe('StoryCard', () => {
  it('タイトルが正しく表示される', () => {
    // test code
  })
})
```

### テスト構造

**Arrange-Act-Assert パターン**を使用：

```typescript
it('正常なケースのテスト', () => {
  // Arrange: テストデータの準備
  const input = { /* ... */ }
  
  // Act: テスト対象の実行
  const result = targetFunction(input)
  
  // Assert: 結果の検証
  expect(result).toBe(expected)
})
```

### モック化

- 外部依存（API、DB、ファイルシステム）はモック化
- テストデータはテスト内で完結させる

## テスト実行

- テスト追加時は必ず実行して通ることを確認
- PR作成前に全テストが通ることを確認
- カバレッジを意識（最低でも主要ロジックはカバー）

## 原則

- 1テスト1アサーション（可能な限り）
- テスト間の依存を排除
- 実装の詳細ではなく振る舞いをテスト
- テストは仕様書として読めるように
